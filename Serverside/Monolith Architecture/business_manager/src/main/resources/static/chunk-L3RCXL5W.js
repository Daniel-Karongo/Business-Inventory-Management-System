import{a as e}from"./chunk-5DTMLZHP.js";import{V as i,Z as o,da as a,g as n,hd as l}from"./chunk-IL4QWM46.js";var p=class r{http=a(l);me$=new n(null);login(t){return this.http.post(`${e.apiUrl}/auth/login`,t,{withCredentials:!0}).pipe(i(s=>this.me$.next(s)))}loadMe(){return this.http.get(`${e.apiUrl}/auth/me`,{withCredentials:!0}).pipe(i(t=>this.me$.next(t)))}getCurrentUser(){return this.me$.asObservable()}getSnapshot(){return this.me$.value}logout(){return this.http.post(`${e.apiUrl}/auth/logout`,{},{withCredentials:!0})}logoutAll(){return this.http.post(`${e.apiUrl}/auth/logout-all`,{},{withCredentials:!0})}clearLocalState(){this.me$.next(null)}getSessions(){return this.http.post(`${e.apiUrl}/auth/sessions`,{},{withCredentials:!0})}static \u0275fac=function(s){return new(s||r)};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{p as a};
