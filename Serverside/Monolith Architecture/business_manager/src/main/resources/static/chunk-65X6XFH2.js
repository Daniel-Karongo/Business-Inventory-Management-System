import{a as Pt}from"./chunk-EZ6T5JTH.js";import{a as He}from"./chunk-JZXEWDXN.js";import{a as xt,b as bt,c as St,d as It}from"./chunk-2ME7W6RW.js";import{a as Et,b as Dt,c as Ot}from"./chunk-U77Y5IN4.js";import"./chunk-UTOEPDRR.js";import{a as Tt}from"./chunk-PQOQUHSI.js";import{a as P}from"./chunk-4TYR6EWG.js";import"./chunk-LVP7ARRB.js";import"./chunk-7B2346SR.js";import"./chunk-CD2D6BMO.js";import{a as ze,b as Mt,c as wt,d as kt}from"./chunk-TWWBRTKE.js";import{a as Ne,b as Re,c as Ve,d as Fe,e as Be,f as Le,g as Ae,h as je,i as qe,j as Ue,k as Ge}from"./chunk-I3US72OE.js";import{d as ht}from"./chunk-SEKUPHS7.js";import"./chunk-N4J5OKMY.js";import{a as De,b as Oe}from"./chunk-YVNRBVUQ.js";import{a as H,b as Z,c as yt,e as ee,f as te,g as ie,h as ne}from"./chunk-MA6ZSKR6.js";import{a as pe}from"./chunk-XHAJPIPO.js";import"./chunk-MS4AQ6UA.js";import{a as W,b as K}from"./chunk-2JRABG3A.js";import{d as L}from"./chunk-T2UYCDC2.js";import"./chunk-PZ352SLY.js";import{b as X,c as z}from"./chunk-TLF4YXFY.js";import{a as $}from"./chunk-SNZ3II6O.js";import{c as D,d as O}from"./chunk-CZGJLEOY.js";import{b as F,d as oe,e as Pe,h as E,i as B}from"./chunk-J5IGF7DT.js";import"./chunk-SGYCFQGT.js";import{d as k,f as y,h as T,i as A,l as we,m as Ct,n as j,p as q,q as ke,r as Te,s as U,v as J,w as Ee,x as G}from"./chunk-D2WFNIGL.js";import"./chunk-AYMLXUSV.js";import{f as de,g as R,h as V}from"./chunk-SRBP6AOE.js";import{p as gt}from"./chunk-AQVBCBXZ.js";import{b as ut,d as ft,e as _t,h as vt}from"./chunk-CSKLPVDL.js";import"./chunk-Z7QKINIM.js";import"./chunk-5DTMLZHP.js";import{$b as nt,$c as w,Bb as Ce,Ib as t,Jb as i,Kb as _,Lb as S,Mb as I,Ob as b,Qb as d,Qc as pt,Rb as f,Rc as N,Sc as Y,Ub as lt,Wb as mt,Wc as Me,Xb as ct,Yb as st,ac as r,bb as l,bc as x,cc as h,dc as me,fc as re,gb as C,gc as ae,hc as le,kc as dt,lc as Ie,na as p,nb as M,nc as ce,oa as u,pc as se,qb as at,sb as g,zb as s}from"./chunk-KLCDKTJS.js";import{a as Se,g as tt,h as it}from"./chunk-FJYW2LMB.js";function Lt(o,n){o&1&&(t(0,"div",17),r(1," Loading transactions\u2026 "),i())}function At(o,n){o&1&&(t(0,"div",17),r(1," No transactions found "),i())}function jt(o,n){if(o&1&&(t(0,"mat-option",18),r(1),i()),o&2){let e=n.$implicit;s("value",e),l(),h(" ",e," ")}}function qt(o,n){o&1&&(t(0,"th",34),r(1,"Date"),i())}function Ut(o,n){if(o&1&&(t(0,"td",35),r(1),ce(2,"date"),i()),o&2){let e=n.$implicit;l(),h(" ",se(2,1,e.timestamp,"medium")," ")}}function Gt(o,n){o&1&&(t(0,"th",34),r(1,"Type"),i())}function zt(o,n){if(o&1&&(t(0,"td",36)(1,"div",37)(2,"mat-icon",38),r(3),i(),t(4,"span"),r(5),i()()()),o&2){let e=n.$implicit,a=f(2);s("ngClass",a.typeClass(e)),l(2),lt("matTooltip",e.type),l(),h(" ",a.iconFor(e)," "),l(2),x(e.type)}}function Ht(o,n){o&1&&(t(0,"th",34),r(1,"\u0394 Qty"),i())}function $t(o,n){if(o&1&&(t(0,"td",36),r(1),i()),o&2){let e=n.$implicit,a=f(2);s("ngClass",a.typeClass(e)),l(),h(" ",a.signedQty(e)," ")}}function Wt(o,n){o&1&&(t(0,"th",34),r(1,"Branch"),i())}function Kt(o,n){if(o&1&&(t(0,"td",35),r(1),i()),o&2){let e=n.$implicit;l(),h(" ",e.branchName||"\u2014"," ")}}function Qt(o,n){o&1&&(t(0,"th",34),r(1,"Reference"),i())}function Yt(o,n){if(o&1&&(t(0,"td",35),r(1),i()),o&2){let e=n.$implicit;l(),h(" ",e.reference||"\u2014"," ")}}function Jt(o,n){o&1&&(t(0,"th",34),r(1,"Note"),i())}function Xt(o,n){if(o&1&&(t(0,"td",35),r(1),i()),o&2){let e=n.$implicit;l(),h(" ",e.note||"\u2014"," ")}}function Zt(o,n){o&1&&(t(0,"th",34),r(1,"User"),i())}function ei(o,n){if(o&1&&(t(0,"td",35),r(1),i()),o&2){let e=n.$implicit;l(),h(" ",e.performedBy||"system"," ")}}function ti(o,n){o&1&&_(0,"tr",39)}function ii(o,n){o&1&&_(0,"tr",40)}function ni(o,n){if(o&1&&(t(0,"div",19)(1,"div",20)(2,"table",21),S(3,22),g(4,qt,2,0,"th",23)(5,Ut,3,4,"td",24),I(),S(6,25),g(7,Gt,2,0,"th",23)(8,zt,6,4,"td",26),I(),S(9,27),g(10,Ht,2,0,"th",23)(11,$t,2,2,"td",26),I(),S(12,28),g(13,Wt,2,0,"th",23)(14,Kt,2,1,"td",24),I(),S(15,29),g(16,Qt,2,0,"th",23)(17,Yt,2,1,"td",24),I(),S(18,30),g(19,Jt,2,0,"th",23)(20,Xt,2,1,"td",24),I(),S(21,31),g(22,Zt,2,0,"th",23)(23,ei,2,1,"td",24),I(),g(24,ti,1,0,"tr",32)(25,ii,1,0,"tr",33),i()()()),o&2){let e=f();l(2),s("dataSource",e.filtered),l(22),s("matHeaderRowDef",e.displayedColumns),l(),s("matRowDefColumns",e.displayedColumns)}}var $e=class o{constructor(n,e){this.route=n;this.inventoryService=e}loading=!0;transactions=[];variantId;variantName;productName;displayedColumns=["timestamp","type","quantity","branch","reference","note","performedBy"];filtered=[];fromDate;toDate;selectedTypes=[];direction="ALL";transactionTypes=["RECEIPT","SALE","ADJUSTMENT","TRANSFER_IN","TRANSFER_OUT","RESERVATION","RELEASE","RETURN"];ngOnInit(){this.variantId=this.route.snapshot.paramMap.get("variantId"),this.loadTransactions()}loadTransactions(){this.inventoryService.getTransactionsByVariant(this.variantId).subscribe({next:n=>{this.transactions=n,this.variantName=this.transactions.at(0)?.productVariantName,this.productName=this.transactions.at(0)?.productName,this.applyFilters(),this.loading=!1},error:()=>{this.loading=!1}})}applyFilters(){this.filtered=this.transactions.filter(n=>{let e=new Date(n.timestamp).getTime();return!(this.fromDate&&e<this.fromDate.getTime()||this.toDate&&e>this.toDate.getTime()||this.selectedTypes.length&&!this.selectedTypes.includes(n.type)||this.direction==="IN"&&n.quantityDelta<=0||this.direction==="OUT"&&n.quantityDelta>=0)})}iconFor(n){switch(n.type){case"RECEIPT":return"add_circle";case"SALE":return"shopping_cart";case"ADJUSTMENT":return"tune";case"TRANSFER_IN":return"south_west";case"TRANSFER_OUT":return"north_east";case"RETURN":return"keyboard_return";default:return"swap_horiz"}}typeClass(n){return n.quantityDelta>0?"tx-in":n.quantityDelta<0?"tx-out":""}signedQty(n){return n.quantityDelta>0?`+${n.quantityDelta}`:`${n.quantityDelta}`}static \u0275fac=function(e){return new(e||o)(C(ut),C(P))};static \u0275cmp=M({type:o,selectors:[["app-inventory-transactions"]],decls:39,vars:13,consts:[["fromPicker",""],["toPicker",""],[1,"transactions-container"],[1,"header-block"],[1,"variant-info"],["class","state-block",4,"ngIf"],[1,"filters"],["appearance","fill"],["matInput","",3,"dateChange","ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["multiple","",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","selectionChange","ngModel"],["value","ALL"],["value","IN"],["value","OUT"],["class","table-wrapper",4,"ngIf"],[1,"state-block"],[3,"value"],[1,"table-wrapper"],[1,"table-scroll"],["mat-table","",1,"transactions-table",3,"dataSource"],["matColumnDef","timestamp"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","branch"],["matColumnDef","reference"],["matColumnDef","note"],["matColumnDef","performedBy"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],[1,"type-block"],[3,"matTooltip"],["mat-header-row",""],["mat-row",""]],template:function(e,a){if(e&1){let m=b();t(0,"div",2)(1,"div",3)(2,"h1"),r(3,"Stock Transactions"),i(),t(4,"div",4),r(5),i()(),g(6,Lt,2,0,"div",5)(7,At,2,0,"div",5),t(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),r(11,"From"),i(),t(12,"input",8),d("dateChange",function(){return p(m),u(a.applyFilters())}),le("ngModelChange",function(v){return p(m),ae(a.fromDate,v)||(a.fromDate=v),u(v)}),i(),_(13,"mat-datepicker-toggle",9)(14,"mat-datepicker",null,0),i(),t(16,"mat-form-field",7)(17,"mat-label"),r(18,"To"),i(),t(19,"input",8),d("dateChange",function(){return p(m),u(a.applyFilters())}),le("ngModelChange",function(v){return p(m),ae(a.toDate,v)||(a.toDate=v),u(v)}),i(),_(20,"mat-datepicker-toggle",9)(21,"mat-datepicker",null,1),i(),t(23,"mat-form-field",7)(24,"mat-label"),r(25,"Type"),i(),t(26,"mat-select",10),le("ngModelChange",function(v){return p(m),ae(a.selectedTypes,v)||(a.selectedTypes=v),u(v)}),d("selectionChange",function(){return p(m),u(a.applyFilters())}),g(27,jt,2,2,"mat-option",11),i()(),t(28,"mat-form-field",7)(29,"mat-label"),r(30,"Direction"),i(),t(31,"mat-select",12),le("ngModelChange",function(v){return p(m),ae(a.direction,v)||(a.direction=v),u(v)}),d("selectionChange",function(){return p(m),u(a.applyFilters())}),t(32,"mat-option",13),r(33,"All"),i(),t(34,"mat-option",14),r(35,"Inbound"),i(),t(36,"mat-option",15),r(37,"Outbound"),i()()()(),g(38,ni,26,3,"div",16),i()}if(e&2){let m=nt(15),c=nt(22);l(5),h(" Variant: ",a.productName+" - "+a.variantName||a.variantId," "),l(),s("ngIf",a.loading),l(),s("ngIf",!a.loading&&a.transactions.length===0),l(5),s("matDatepicker",m),re("ngModel",a.fromDate),l(),s("for",m),l(6),s("matDatepicker",c),re("ngModel",a.toDate),l(),s("for",c),l(6),re("ngModel",a.selectedTypes),l(),s("ngForOf",a.transactionTypes),l(4),re("ngModel",a.direction),l(7),s("ngIf",!a.loading&&a.transactions.length>0)}},dependencies:[w,pt,N,Y,Me,Ge,Ne,Ve,Ae,Fe,Re,je,Be,Le,qe,Ue,z,X,Oe,De,B,E,F,Pe,K,W,L,It,xt,bt,St,ht,Ee,k,T,we,O,D],styles:[".transactions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px;box-sizing:border-box}.header-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.header-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.variant-info[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.state-block[_ngcontent-%COMP%]{text-align:center;padding:40px 0;color:var(--text-secondary)}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.table-wrapper[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:8px;overflow:hidden}.table-scroll[_ngcontent-%COMP%]{overflow:auto}.transactions-table[_ngcontent-%COMP%]{width:100%}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:10px 14px;white-space:nowrap}.mat-mdc-header-row[_ngcontent-%COMP%]{position:sticky;top:0;background:var(--surface);z-index:2}.type-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.tx-in[_ngcontent-%COMP%]{color:#2e7d32;font-weight:500}.tx-out[_ngcontent-%COMP%]{color:#c62828;font-weight:500}@media (max-width: 900px){.mat-column-note[_ngcontent-%COMP%]{display:none}}@media (max-width: 700px){.mat-column-performedBy[_ngcontent-%COMP%]{display:none}}@media (max-width: 600px){.mat-column-branch[_ngcontent-%COMP%]{display:none}.transactions-container[_ngcontent-%COMP%]{padding:14px}}@media (max-width: 480px){.mat-column-reference[_ngcontent-%COMP%]{display:none}}"]})};var Ke=class o{constructor(n,e,a,m,c){this.data=n;this.dialogRef=e;this.inventoryService=a;this.snackbar=m;this.fb=c}loading=!1;form;ngOnInit(){this.form=this.fb.group({quantityDelta:[0,y.required],reason:["",y.required],reference:["",y.required]})}close(){this.dialogRef.close()}submit(){if(this.form.invalid)return;this.loading=!0;let n=Se({productVariantId:this.data.productVariantId,branchId:this.data.branchId},this.form.value);this.inventoryService.adjustVariantStock(n).subscribe({next:()=>{this.snackbar.open("Stock adjusted successfully","Close",{duration:2500}),this.dialogRef.close(!0)},error:()=>{this.loading=!1,this.snackbar.open("Stock adjustment failed","Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||o)(C(Z),C(H),C(P),C($),C(J))};static \u0275cmp=M({type:o,selectors:[["app-adjust-stock-dialog"]],decls:28,vars:5,consts:[["mat-dialog-title","",1,"dialog-title"],[1,"dialog-body",3,"formGroup"],[1,"context-card"],[1,"product"],[1,"meta"],[1,"grid-2"],["appearance","fill"],["matInput","","type","number","formControlName","quantityDelta"],["matInput","","formControlName","reason"],["matInput","","formControlName","reference"],["align","end",1,"dialog-footer"],["mat-button","",3,"click"],["mat-flat-button","","color","warn",3,"click","disabled"]],template:function(e,a){e&1&&(t(0,"h2",0),r(1,"Adjust Stock"),i(),t(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3),r(5),i(),t(6,"div",4),r(7),i()(),t(8,"div",5)(9,"mat-form-field",6)(10,"mat-label"),r(11,"Quantity Delta"),i(),_(12,"input",7),t(13,"mat-hint"),r(14,"Use positive or negative values"),i()(),t(15,"mat-form-field",6)(16,"mat-label"),r(17,"Reason"),i(),_(18,"input",8),i()(),t(19,"mat-form-field",6)(20,"mat-label"),r(21,"Reference"),i(),_(22,"input",9),i()(),t(23,"mat-dialog-actions",10)(24,"button",11),d("click",function(){return a.close()}),r(25,"Cancel"),i(),t(26,"button",12),d("click",function(){return a.submit()}),r(27," Adjust Stock "),i()()),e&2&&(l(2),s("formGroup",a.form),l(3),x(a.data.productName),l(2),me(" ",a.data.classification," \u2022 ",a.data.branchName," "),l(19),s("disabled",a.loading||a.form.invalid))},dependencies:[w,ne,ee,ie,te,V,R,O,D,E,F,oe,G,k,j,T,A,q,U],styles:[".dialog-title[_ngcontent-%COMP%]{font-weight:600}.dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.context-card[_ngcontent-%COMP%]{padding:14px 16px;border-radius:8px;background:var(--surface);border:1px solid var(--border)}.context-card[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{font-weight:600}.context-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.dialog-footer[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid var(--border)}"]})};var Nt={title:"Bulk Receive Inventory",confirmLabel:"Confirm Receive",csvFileName:"inventory-bulk-receive-template.csv",excelFileName:"inventory-bulk-receive-template.xlsx",headers:["productName","variantClassification","branchCode","supplierName","unitsSupplied","unitCost","sellingPrice","reference","note"],fields:[{name:"productName",required:!0},{name:"variantClassification",defaultValue:"STANDARD"},{name:"branchCode",required:!0},{name:"supplierName",required:!0},{name:"unitsSupplied",required:!0,defaultValue:1},{name:"unitCost",required:!0},{name:"sellingPrice"},{name:"reference"},{name:"note"}],previewColumns:[{key:"productName",label:"Product"},{key:"variantClassification",label:"Variant"},{key:"branchName",label:"Branch"},{key:"unitsReceived",label:"Units"},{key:"unitCost",label:"Unit Cost"},{key:"totalCost",label:"Total Cost"}],excelSheetName:"Inventory Receive",excelColumns:[{header:"productName",key:"productName",width:30},{header:"variantClassification",key:"variantClassification",width:22},{header:"branchCode",key:"branchCode",width:18},{header:"supplierName",key:"supplierName",width:26},{header:"unitsSupplied",key:"unitsSupplied",width:16},{header:"unitCost",key:"unitCost",width:16},{header:"sellingPrice",key:"sellingPrice",width:16},{header:"reference",key:"reference",width:18},{header:"note",key:"note",width:28}],exampleRow:{productName:"Milk 1L",variantClassification:"STANDARD",branchCode:"MAIN",supplierName:"Local Supplier",unitsSupplied:10,unitCost:2500,sellingPrice:3200,reference:"GRN-001",note:"Initial stock"},emptyRow:{variantClassification:"STANDARD",unitsSupplied:1},emptyRowCount:200,defaultOptions:{dryRun:!0},mapRowToItem(o){return{productName:o.productName,classification:o.variantClassification,branchCode:o.branchCode,sellingPrice:o.sellingPrice,reference:o.reference,note:o.note,suppliers:[{supplierName:o.supplierName,unitsSupplied:o.unitsSupplied,unitCost:o.unitCost}]}},mapPreviewRow(o){return o},submit(o){return null}};function oi(o,n){if(o&1&&(t(0,"div",24),r(1),i()),o&2){let e=f().$implicit;l(),h(" ",e.value._error," ")}}function ri(o,n){if(o&1){let e=b();t(0,"div",9)(1,"div",10)(2,"span"),r(3),i(),t(4,"button",11),d("click",function(){let m=p(e).index,c=f();return u(c.removeRow(m))}),t(5,"mat-icon"),r(6,"delete"),i()()(),t(7,"div",12)(8,"mat-form-field"),_(9,"input",13),i(),t(10,"mat-form-field"),_(11,"input",14),i()(),t(12,"div",12)(13,"mat-form-field"),_(14,"input",15),i(),t(15,"mat-form-field"),_(16,"input",16),i()(),t(17,"div",17)(18,"mat-form-field"),_(19,"input",18),i(),t(20,"mat-form-field"),_(21,"input",19),i(),t(22,"mat-form-field"),_(23,"input",20),i()(),t(24,"div",12)(25,"mat-form-field"),_(26,"input",21),i(),t(27,"mat-form-field"),_(28,"input",22),i()(),g(29,oi,2,1,"div",23),i()}if(o&2){let e=n.$implicit,a=n.index;s("formGroupName",a),l(3),h("Item ",a+1,""),l(26),s("ngIf",e.value._error)}}var Ye=class o extends Et{constructor(e,a,m){super();this.inventoryService=e;this.submitEngine=a;this.dialogRef=m}config=Nt;ngOnInit(){this.initForm()}submit(){if(this.form.invalid)return;let e={items:this.rows.controls.map(a=>this.config.mapRowToItem(a.value)),options:{dryRun:this.form.value.dryRun}};this.submitEngine.execute({submitFn:a=>this.inventoryService.bulkImport(a),payload:e,rows:this.rows.controls,dryRun:this.form.value.dryRun,title:this.config.title,confirmLabel:this.config.confirmLabel,columns:this.config.previewColumns,onErrorsApplied:a=>this.cacheErrors(a),onFinalSuccess:()=>this.dialogRef.close(!0),onConfirmRetry:()=>{this.form.patchValue({dryRun:!1}),this.submit()}})}importExcel(e){return it(this,null,function*(){if(!e)return;let a=yield this.confirmMerge();a&&tt(o.prototype,this,"importExcelFile").call(this,e,void 0,a)})}importCsv(e){return it(this,null,function*(){if(!e)return;let a=yield this.confirmMerge();a&&tt(o.prototype,this,"importCsvFile").call(this,e,a)})}close(){this.dialogRef.close()}static \u0275fac=function(a){return new(a||o)(C(P),C(Ot),C(H))};static \u0275cmp=M({type:o,selectors:[["app-inventory-bulk-import-dialog"]],features:[at],decls:12,vars:8,consts:[["bottomAnchor",""],[3,"keydown.enter","formGroup"],[3,"importCsv","importExcel","downloadCsv","downloadExcel","submit","cancel","goToLine","goTop","goBottom","prevError","nextError","clearAll","exportCsv","exportExcel","title","rowCount","submitting","formInvalid","loading","progress"],[1,"inventory-body"],["bulk-options",""],["formControlName","dryRun"],["formArrayName","rows",1,"rows"],["class","row-card",3,"formGroupName",4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],[1,"row-card",3,"formGroupName"],[1,"row-header"],["mat-icon-button","","color","warn",3,"click"],[1,"grid-2"],["matInput","","placeholder","Product Name","formControlName","productName"],["matInput","","placeholder","Branch Code","formControlName","branchCode"],["matInput","","placeholder","Variant","formControlName","variantClassification"],["matInput","","placeholder","Supplier","formControlName","supplierName"],[1,"grid-3"],["matInput","","type","number","placeholder","Units","formControlName","unitsSupplied"],["matInput","","type","number","placeholder","Unit Cost","formControlName","unitCost"],["matInput","","type","number","placeholder","Selling Price","formControlName","sellingPrice"],["matInput","","placeholder","Reference","formControlName","reference"],["matInput","","placeholder","Note","formControlName","note"],["class","row-error",4,"ngIf"],[1,"row-error"]],template:function(a,m){if(a&1){let c=b();t(0,"form",1),d("keydown.enter",function(Q){return p(c),u(Q.stopPropagation())}),t(1,"app-bulk-import-shell",2),d("importCsv",function(Q){return p(c),u(m.importCsv(Q))})("importExcel",function(Q){return p(c),u(m.importExcel(Q))})("downloadCsv",function(){return p(c),u(m.downloadCsvTemplate())})("downloadExcel",function(){return p(c),u(m.downloadExcelTemplate())})("submit",function(){return p(c),u(m.submit())})("cancel",function(){return p(c),u(m.close())})("goToLine",function(Q){return p(c),u(m.goToLine(Q))})("goTop",function(){return p(c),u(m.scrollToTop())})("goBottom",function(){return p(c),u(m.scrollToBottom())})("prevError",function(){return p(c),u(m.goToPreviousError())})("nextError",function(){return p(c),u(m.goToNextError())})("clearAll",function(){return p(c),u(m.clearRows())})("exportCsv",function(){return p(c),u(m.exportCsvCurrentRows())})("exportExcel",function(){return p(c),u(m.exportExcelCurrentRows())}),t(2,"div",3)(3,"div",4)(4,"mat-checkbox",5),r(5," Dry run (simulate only \u2014 no stock changes) "),i()(),t(6,"div",6),g(7,ri,30,3,"div",7),i(),t(8,"button",8),d("click",function(){return p(c),u(m.addRow())}),r(9," + Add Row "),i(),_(10,"div",null,0),i()()()}a&2&&(s("formGroup",m.form),l(),s("title",m.config.title)("rowCount",m.rowCount)("submitting",m.submitting)("formInvalid",m.form.invalid)("loading",m.submitting||m.loading)("progress",m.progress),l(6),s("ngForOf",m.rows.controls))},dependencies:[w,N,Y,G,Ct,k,j,T,A,q,U,ke,Te,Dt,B,E,O,D,kt,wt,V,R,de,z,X],styles:[".inventory-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.rows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.row-card[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:10px;padding:20px;background:var(--surface);display:flex;flex-direction:column;gap:16px}.row-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:600;border-bottom:1px dashed var(--border);padding-bottom:6px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.row-error[_ngcontent-%COMP%]{color:#c62828;font-size:.8rem}.highlight-line[_ngcontent-%COMP%]{outline:2px solid #1976d2;outline-offset:4px}@media (max-width: 1024px){.grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 768px){.row-card[_ngcontent-%COMP%]{padding:16px}.grid-2[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function li(o,n){if(o&1&&(t(0,"mat-option",21),r(1),i()),o&2){let e=n.$implicit;s("value",e.id),l(),h(" ",e.name," ")}}function mi(o,n){if(o&1&&(t(0,"mat-option",21),r(1),i()),o&2){let e=n.$implicit;s("value",e.id),l(),h(" ",e.name," ")}}var Je=class o{constructor(n,e,a,m,c,v,Q){this.data=n;this.dialogRef=e;this.fb=a;this.inventoryService=m;this.supplierService=c;this.branchService=v;this.snackbar=Q}loading=!1;product;branches=[];suppliers=[];form;ngOnInit(){this.product=this.data[0],this.form=this.fb.group({branchId:["",y.required],classification:["",y.required],newVariantSku:[""],sellingPrice:[null],supplierId:["",y.required],unitsSupplied:[1,[y.required,y.min(1)]],unitCost:[0,[y.required,y.min(.01)]],reference:["",y.required],note:[""]}),this.loadBranches(),this.loadSuppliers()}loadBranches(){this.branchService.getAll(!1).subscribe({next:n=>{this.branches=n.filter(e=>!!e.id).map(e=>({id:e.id,name:e.name,branchCode:e.branchCode??""}))},error:()=>{this.snackbar.open("Failed to load branches","Close",{duration:3e3})}})}loadSuppliers(){this.supplierService.getAll(!1).subscribe({next:n=>{this.suppliers=n.filter(e=>!!e.id).map(e=>({id:e.id,name:e.name}))},error:()=>{this.snackbar.open("Failed to load suppliers","Close",{duration:3e3})}})}close(){this.dialogRef.close()}submit(){if(this.form.invalid)return;this.loading=!0;let n={productId:this.product.id,branchId:this.form.value.branchId,classification:this.form.value.classification,newVariantSku:this.form.value.newVariantSku,sellingPrice:this.form.value.sellingPrice,reference:this.form.value.reference,note:this.form.value.note,suppliers:[{supplierId:this.form.value.supplierId,unitsSupplied:this.form.value.unitsSupplied,unitCost:this.form.value.unitCost}]};this.inventoryService.receiveStock(n).subscribe({next:()=>{this.snackbar.open("Product received successfully","Close",{duration:2500}),this.dialogRef.close(!0)},error:()=>{this.loading=!1,this.snackbar.open("Failed to receive product","Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||o)(C(Z),C(H),C(J),C(P),C(He),C(pe),C($))};static \u0275cmp=M({type:o,selectors:[["app-receive-new-product-dialog"]],decls:64,vars:6,consts:[["mat-dialog-title","",1,"dialog-title"],[1,"dialog-body",3,"formGroup"],[1,"context-card"],[1,"product-name"],[1,"product-meta"],["appearance","fill"],["formControlName","branchId"],[3,"value",4,"ngFor","ngForOf"],[1,"section-title"],["matInput","","placeholder","e.g. Standard / Size 42 / 1L","formControlName","classification"],["matInput","","formControlName","newVariantSku"],["matInput","","type","number","formControlName","sellingPrice"],["formControlName","supplierId"],[1,"grid-2"],["matInput","","type","number","formControlName","unitsSupplied"],["matInput","","type","number","formControlName","unitCost"],["matInput","","formControlName","reference"],["matInput","","rows","2","formControlName","note"],["align","end",1,"dialog-actions"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"value"]],template:function(e,a){e&1&&(t(0,"h2",0),r(1,` Receive New Product
`),i(),t(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3),r(5),i(),t(6,"div",4),r(7),i()(),t(8,"mat-form-field",5)(9,"mat-label"),r(10,"Branch"),i(),t(11,"mat-select",6),g(12,li,2,2,"mat-option",7),i()(),t(13,"div",8),r(14,"Variant (first)"),i(),t(15,"mat-form-field",5)(16,"mat-label"),r(17,"Classification"),i(),_(18,"input",9),i(),t(19,"mat-form-field",5)(20,"mat-label"),r(21,"Variant SKU (optional)"),i(),_(22,"input",10),t(23,"mat-hint"),r(24,"Auto-generated if left blank"),i()(),t(25,"div",8),r(26,"Pricing"),i(),t(27,"mat-form-field",5)(28,"mat-label"),r(29,"Selling Price (optional)"),i(),_(30,"input",11),t(31,"mat-hint"),r(32," Overrides minimum selling price calculated from cost "),i()(),t(33,"div",8),r(34,"Initial Stock"),i(),t(35,"mat-form-field",5)(36,"mat-label"),r(37,"Supplier"),i(),t(38,"mat-select",12),g(39,mi,2,2,"mat-option",7),i()(),t(40,"div",13)(41,"mat-form-field",5)(42,"mat-label"),r(43,"Units Supplied"),i(),_(44,"input",14),i(),t(45,"mat-form-field",5)(46,"mat-label"),r(47,"Unit Cost"),i(),_(48,"input",15),i()(),t(49,"div",8),r(50,"Reference"),i(),t(51,"mat-form-field",5)(52,"mat-label"),r(53,"Reference"),i(),_(54,"input",16),i(),t(55,"mat-form-field",5)(56,"mat-label"),r(57,"Note"),i(),_(58,"textarea",17),i()(),t(59,"mat-dialog-actions",18)(60,"button",19),d("click",function(){return a.close()}),r(61,"Cancel"),i(),t(62,"button",20),d("click",function(){return a.submit()}),r(63," Receive Product "),i()()),e&2&&(l(2),s("formGroup",a.form),l(3),x(a.product.name),l(2),h(" SKU: ",a.product.sku||"\u2014"," "),l(5),s("ngForOf",a.branches),l(27),s("ngForOf",a.suppliers),l(23),s("disabled",a.loading||a.form.invalid))},dependencies:[w,N,ne,ee,ie,te,G,k,j,T,A,q,U,V,R,O,D,E,F,oe,K,W,L,B,z],styles:[".dialog-title[_ngcontent-%COMP%]{font-weight:600}.dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.context-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:6px;padding:12px}.product-name[_ngcontent-%COMP%]{font-weight:600}.product-meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.section-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;text-transform:uppercase;color:#6b7280;margin-top:8px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.dialog-actions[_ngcontent-%COMP%]{padding-top:12px}"]})};function ci(o,n){o&1&&(t(0,"div",11)(1,"mat-form-field",6)(2,"mat-label"),r(3,"Variant Classification"),i(),_(4,"input",20),i(),t(5,"mat-form-field",6)(6,"mat-label"),r(7,"Variant SKU (optional)"),i(),_(8,"input",21),t(9,"mat-hint"),r(10,"Auto-generated if left blank"),i()()())}function si(o,n){if(o&1){let e=b();t(0,"button",30),d("click",function(){p(e);let m=f().index,c=f();return u(c.removeSupplier(m))}),t(1,"mat-icon"),r(2,"delete"),i()()}}function di(o,n){if(o&1&&(t(0,"mat-option",31),r(1),i()),o&2){let e=n.$implicit;s("value",e.id),l(),h(" ",e.name," ")}}function pi(o,n){if(o&1&&(t(0,"div",22)(1,"div",23)(2,"span"),r(3),i(),g(4,si,3,0,"button",24),i(),t(5,"div",11)(6,"mat-form-field",6)(7,"mat-label"),r(8,"Supplier"),i(),t(9,"mat-select",25),g(10,di,2,2,"mat-option",26),i()(),t(11,"mat-form-field",6)(12,"mat-label"),r(13,"Units Supplied"),i(),_(14,"input",27),i()(),t(15,"div",11)(16,"mat-form-field",6)(17,"mat-label"),r(18,"Unit Cost"),i(),_(19,"input",28),i(),t(20,"mat-form-field",6)(21,"mat-label"),r(22,"Selling Price (optional)"),i(),_(23,"input",29),t(24,"mat-hint"),r(25,"Overrides minimum selling price"),i()()()()),o&2){let e=n.index,a=f();s("formGroupName",e),l(3),h("Supplier ",e+1,""),l(),s("ngIf",a.suppliers.length>1),l(6),s("ngForOf",a.suppliersList)}}var Xe=class o{constructor(n,e,a,m,c,v){this.data=n;this.dialogRef=e;this.inventoryService=a;this.snackbar=m;this.fb=c;this.supplierService=v}loading=!1;form;suppliersList=[];ngOnInit(){this.form=this.fb.group({reference:["",y.required],note:[""],variantMode:["EXISTING",y.required],classification:[""],newVariantSku:[""],sellingPrice:[null],suppliers:this.fb.array([this.createSupplier()])}),this.loadSuppliers()}loadSuppliers(){this.supplierService.getAll(!1).subscribe({next:n=>{this.suppliersList=n.filter(e=>!!e.id).map(e=>({id:e.id,name:e.name}))}})}get suppliers(){return this.form.get("suppliers")}createSupplier(){return this.fb.group({supplierId:["",y.required],unitsSupplied:[0,[y.required,y.min(1)]],unitCost:[0,[y.required,y.min(.01)]]})}addSupplier(){this.suppliers.push(this.createSupplier())}removeSupplier(n){this.suppliers.removeAt(n)}close(){this.dialogRef.close()}submit(){if(this.form.invalid)return;this.loading=!0;let n={productId:this.data.productId,branchId:this.data.branchId,reference:this.form.value.reference,note:this.form.value.note,sellingPrice:this.form.value.sellingPrice,suppliers:this.form.value.suppliers};this.form.value.variantMode==="EXISTING"?n.productVariantId=this.data.productVariantId:(n.classification=this.form.value.classification,n.newVariantSku=this.form.value.newVariantSku),this.inventoryService.receiveStock(n).subscribe({next:()=>{this.snackbar.open("Stock received successfully","Close",{duration:2500}),this.dialogRef.close(!0)},error:()=>{this.loading=!1,this.snackbar.open("Failed to receive stock","Close",{duration:3e3})}})}static \u0275fac=function(e){return new(e||o)(C(Z),C(H),C(P),C($),C(J),C(He))};static \u0275cmp=M({type:o,selectors:[["app-receive-stock-dialog"]],decls:36,vars:7,consts:[["mat-dialog-title","",1,"dialog-title"],[1,"dialog-body",3,"formGroup"],[1,"context-card"],[1,"context-title"],[1,"context-sub"],[1,"section"],["appearance","fill"],["formControlName","variantMode"],["value","EXISTING"],["value","NEW"],["class","grid-2",4,"ngIf"],[1,"grid-2"],["matInput","","formControlName","reference"],["matInput","","formControlName","note"],["formArrayName","suppliers",1,"suppliers"],["class","supplier-card",3,"formGroupName",4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],["align","end",1,"dialog-actions"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],["matInput","","formControlName","classification","placeholder","e.g. Size 42 / Red / 1L"],["matInput","","formControlName","newVariantSku"],[1,"supplier-card",3,"formGroupName"],[1,"supplier-header"],["mat-icon-button","","color","warn","matTooltip","Remove supplier",3,"click",4,"ngIf"],["formControlName","supplierId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","unitsSupplied"],["matInput","","type","number","formControlName","unitCost"],["matInput","","type","number","formControlName","sellingPrice"],["mat-icon-button","","color","warn","matTooltip","Remove supplier",3,"click"],[3,"value"]],template:function(e,a){e&1&&(t(0,"h2",0),r(1,` Receive Stock
`),i(),t(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3),r(5),i(),t(6,"div",4),r(7),i()(),t(8,"div",5)(9,"mat-form-field",6)(10,"mat-label"),r(11,"Variant"),i(),t(12,"mat-select",7)(13,"mat-option",8),r(14,"Existing variant"),i(),t(15,"mat-option",9),r(16,"New variant"),i()()(),g(17,ci,11,0,"div",10),i(),t(18,"div",11)(19,"mat-form-field",6)(20,"mat-label"),r(21,"Reference"),i(),_(22,"input",12),i(),t(23,"mat-form-field",6)(24,"mat-label"),r(25,"Note"),i(),_(26,"input",13),i()(),t(27,"div",14),g(28,pi,26,4,"div",15),i(),t(29,"button",16),d("click",function(){return a.addSupplier()}),r(30," + Add Supplier "),i()(),t(31,"mat-dialog-actions",17)(32,"button",18),d("click",function(){return a.close()}),r(33,"Cancel"),i(),t(34,"button",19),d("click",function(){return a.submit()}),r(35," Receive Stock "),i()()),e&2&&(l(2),s("formGroup",a.form),l(3),x(a.data.productName),l(2),me(" ",a.data.classification," \u2022 ",a.data.branchName," "),l(10),s("ngIf",a.form.value.variantMode==="NEW"),l(11),s("ngForOf",a.suppliers.controls),l(6),s("disabled",a.loading||a.form.invalid))},dependencies:[w,N,Y,ne,ee,ie,te,V,R,de,O,D,E,F,oe,B,K,W,L,G,k,j,T,A,q,U,ke,Te,z,X],styles:[".dialog-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.2px}.dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.context-card[_ngcontent-%COMP%]{padding:14px 16px;border-radius:8px;background:var(--surface);border:1px solid var(--border)}.context-title[_ngcontent-%COMP%]{font-weight:600}.context-sub[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.suppliers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.supplier-card[_ngcontent-%COMP%]{padding:16px;border-radius:8px;background:var(--surface);border:1px solid var(--border);display:flex;flex-direction:column;gap:14px}.supplier-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:600}.dialog-actions[_ngcontent-%COMP%]{padding-top:12px}"]})};function ui(o,n){if(o&1&&(t(0,"mat-option",18),r(1),i()),o&2){let e=n.$implicit;s("value",e.id),l(),h(" ",e.name," ")}}var Ze=class o{constructor(n,e,a,m,c,v){this.data=n;this.dialogRef=e;this.fb=a;this.inventoryService=m;this.branchService=c;this.snackbar=v}loading=!1;form;branches=[];ngOnInit(){this.form=this.fb.group({toBranchId:["",y.required],quantity:[1,[y.required,y.min(1)]],destinationUnitCost:[this.data.averageCost??null],reference:["",y.required],note:[""]}),this.branchService.getAll(!1).subscribe(n=>{this.branches=n.filter(e=>!!e.id&&e.id!==this.data.fromBranchId).map(e=>({id:e.id,name:e.name,branchCode:e.branchCode??""})),this.branches.length===0&&(this.snackbar.open("No other branches available for transfer","Close",{duration:3e3}),this.dialogRef.close())})}submit(){if(this.form.invalid)return;if(this.form.value.quantity>this.data.available){this.snackbar.open("Quantity exceeds available stock","Close",{duration:3e3});return}this.loading=!0;let n=Se({productVariantId:this.data.productVariantId,fromBranchId:this.data.fromBranchId},this.form.value);this.inventoryService.transferStock(n).subscribe({next:()=>{this.snackbar.open("Stock transferred successfully","Close",{duration:2500}),this.dialogRef.close(!0)},error:()=>{this.loading=!1,this.snackbar.open("Stock transfer failed","Close",{duration:3e3})}})}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||o)(C(Z),C(H),C(J),C(P),C(pe),C($))};static \u0275cmp=M({type:o,selectors:[["app-transfer-stock-dialog"]],decls:41,vars:7,consts:[["mat-dialog-title","",1,"dialog-title"],[1,"dialog-body",3,"formGroup"],[1,"context-card"],[1,"product"],[1,"meta"],[1,"available"],[1,"form-grid"],["appearance","fill"],["formControlName","toBranchId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","quantity"],["matInput","","type","number","formControlName","destinationUnitCost"],["matInput","","formControlName","reference"],["appearance","fill",1,"full"],["matInput","","rows","2","formControlName","note"],["align","end",1,"dialog-footer"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"value"]],template:function(e,a){e&1&&(t(0,"h2",0),r(1,"Transfer Stock"),i(),t(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3),r(5),i(),t(6,"div",4),r(7),i(),t(8,"div",5),r(9," Available: "),t(10,"strong"),r(11),i()()(),t(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),r(15,"Destination Branch"),i(),t(16,"mat-select",8),g(17,ui,2,2,"mat-option",9),i()(),t(18,"mat-form-field",7)(19,"mat-label"),r(20,"Quantity"),i(),_(21,"input",10),i(),t(22,"mat-form-field",7)(23,"mat-label"),r(24,"Destination Unit Selling Price"),i(),_(25,"input",11),t(26,"mat-hint"),r(27," Defaults to source average cost "),i()(),t(28,"mat-form-field",7)(29,"mat-label"),r(30,"Reference"),i(),_(31,"input",12),i(),t(32,"mat-form-field",13)(33,"mat-label"),r(34,"Note"),i(),_(35,"textarea",14),i()()(),t(36,"mat-dialog-actions",15)(37,"button",16),d("click",function(){return a.close()}),r(38,"Cancel"),i(),t(39,"button",17),d("click",function(){return a.submit()}),r(40," Transfer Stock "),i()()),e&2&&(l(2),s("formGroup",a.form),l(3),x(a.data.productName),l(2),me(" ",a.data.classification," \u2022 ",a.data.fromBranchName," "),l(4),x(a.data.available),l(6),s("ngForOf",a.branches),l(22),s("disabled",a.loading||a.form.invalid))},dependencies:[w,N,ne,ee,ie,te,V,R,O,D,E,F,oe,B,K,W,L,G,k,j,T,A,q,U],styles:[".dialog-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.3px}.dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.context-card[_ngcontent-%COMP%]{padding:14px 16px;border-radius:8px;background:var(--surface);border:1px solid var(--border)}.context-card[_ngcontent-%COMP%]   .product[_ngcontent-%COMP%]{font-weight:600}.context-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.context-card[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{margin-top:6px;font-size:.85rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-grid[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{grid-column:1/-1}.dialog-footer[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid var(--border)}"]})};var rt=o=>["/inventory/",o],fi=()=>[10,25,50,100];function _i(o,n){if(o&1){let e=b();t(0,"button",22),d("click",function(){p(e);let m=f();return u(m.toggleDensity())}),t(1,"mat-icon"),r(2,"format_line_spacing"),i()()}}function vi(o,n){if(o&1&&(t(0,"mat-option",23),r(1),i()),o&2){let e=n.$implicit;s("value",e.id),l(),h(" ",e.name," ")}}function gi(o,n){if(o&1){let e=b();t(0,"button",24),d("click",function(){p(e);let m=f();return m.searchTerm="",u(m.applySearch())}),t(1,"mat-icon"),r(2,"close"),i()()}}function hi(o,n){o&1&&(t(0,"div",25),r(1," Loading inventory\u2026 "),i())}function Ci(o,n){o&1&&(t(0,"div",25),r(1," No inventory records found "),i())}function yi(o,n){if(o&1){let e=b();t(0,"div",28)(1,"div",29),r(2),i(),t(3,"div",30),r(4),i(),t(5,"div",31),r(6),i(),t(7,"div",31),r(8),i(),t(9,"div",32)(10,"div")(11,"div",33),r(12,"On Hand"),i(),t(13,"div",34),r(14),i()(),t(15,"div")(16,"div",33),r(17,"Reserved"),i(),t(18,"div",34),r(19),i()(),t(20,"div")(21,"div",33),r(22,"Available"),i(),t(23,"div",34),r(24),i()()(),t(25,"div",31),r(26),ce(27,"date"),i(),t(28,"div",35)(29,"button",36),d("click",function(){let m=p(e).$implicit,c=f(2);return u(c.createSaleFromInventory(m))}),t(30,"mat-icon"),r(31,"point_of_sale"),i()(),t(32,"button",37),d("click",function(){let m=p(e).$implicit,c=f(2);return u(c.openReceiveDialog(m))}),t(33,"mat-icon"),r(34,"add_circle"),i()(),t(35,"button",38),d("click",function(){let m=p(e).$implicit,c=f(2);return u(c.openTransferDialog(m))}),t(36,"mat-icon"),r(37,"swap_horiz"),i()(),t(38,"button",39),d("click",function(){let m=p(e).$implicit,c=f(2);return u(c.openAdjustDialog(m))}),t(39,"mat-icon"),r(40,"tune"),i()(),t(41,"button",40)(42,"mat-icon"),r(43,"history"),i()()()()}if(o&2){let e=n.$implicit,a=f(2);Ce("compact",a.density==="compact"),l(2),h(" ",e.productName," "),l(2),h(" ",e.productClassification," "),l(2),h(" SKU: ",e.productVariantSKU," "),l(2),h(" Branch: ",e.branchName," "),l(6),x(e.quantityOnHand),l(5),x(e.quantityReserved),l(5),h(" ",a.available(e)," "),l(2),h(" Updated: ",se(27,11,e.lastUpdatedAt,"medium")," "),l(15),s("routerLink",Ie(14,rt,e.productVariantId))}}function xi(o,n){if(o&1&&(t(0,"div",26),g(1,yi,44,16,"div",27),i()),o&2){let e=f();l(),s("ngForOf",e.pagedData)}}function bi(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("productName"))}),t(1,"span",61),r(2," Product "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="productName"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Si(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit;l(),x(e.productName)}}function Ii(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("productClassification"))}),t(1,"span",61),r(2," Variant "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="productClassification"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Mi(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit;l(),x(e.productClassification)}}function wi(o,n){o&1&&(t(0,"th",64),r(1," SKU "),i())}function ki(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit;l(),x(e.productVariantSKU)}}function Ti(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("branchName"))}),t(1,"span",61),r(2," Branch "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="branchName"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Ei(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit;l(),x(e.branchName)}}function Di(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("quantityOnHand"))}),t(1,"span",61),r(2," On Hand "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="quantityOnHand"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Oi(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit;l(),x(e.quantityOnHand)}}function Pi(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("quantityReserved"))}),t(1,"span",61),r(2," Reserved "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="quantityReserved"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Ni(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit;l(),x(e.quantityReserved)}}function Ri(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("available"))}),t(1,"span",61),r(2," Available "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="available"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Vi(o,n){if(o&1&&(t(0,"td",63),r(1),i()),o&2){let e=n.$implicit,a=f(3);l(),h(" ",a.available(e)," ")}}function Fi(o,n){if(o&1){let e=b();t(0,"th",60),d("click",function(){p(e);let m=f(3);return u(m.sortBy("lastUpdatedAt"))}),t(1,"span",61),r(2," Updated "),t(3,"mat-icon",62),r(4),i()()()}if(o&2){let e=f(3);l(4),h(" ",e.sortField==="lastUpdatedAt"?e.sortDir==="asc"?"arrow_upward":"arrow_downward":"unfold_more"," ")}}function Bi(o,n){if(o&1&&(t(0,"td",63),r(1),ce(2,"date"),i()),o&2){let e=n.$implicit;l(),h(" ",se(2,1,e.lastUpdatedAt,"medium")," ")}}function Li(o,n){o&1&&(t(0,"th",64),r(1,"Actions"),i())}function Ai(o,n){if(o&1){let e=b();t(0,"td",63)(1,"button",36),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.createSaleFromInventory(m))}),t(2,"mat-icon"),r(3,"point_of_sale"),i()(),t(4,"button",37),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.openReceiveDialog(m))}),t(5,"mat-icon"),r(6,"add_circle"),i()(),t(7,"button",38),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.openTransferDialog(m))}),t(8,"mat-icon"),r(9,"swap_horiz"),i()(),t(10,"button",39),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.openAdjustDialog(m))}),t(11,"mat-icon"),r(12,"tune"),i()(),t(13,"button",40)(14,"mat-icon"),r(15,"history"),i()()()}if(o&2){let e=n.$implicit;l(13),s("routerLink",Ie(1,rt,e.productVariantId))}}function ji(o,n){o&1&&_(0,"tr",65)}function qi(o,n){o&1&&_(0,"tr",66)}function Ui(o,n){if(o&1&&(t(0,"div",44)(1,"table",45),S(2,46),g(3,bi,5,1,"th",47)(4,Si,2,1,"td",48),I(),S(5,49),g(6,Ii,5,1,"th",47)(7,Mi,2,1,"td",48),I(),S(8,50),g(9,wi,2,0,"th",51)(10,ki,2,1,"td",48),I(),S(11,52),g(12,Ti,5,1,"th",47)(13,Ei,2,1,"td",48),I(),S(14,53),g(15,Di,5,1,"th",47)(16,Oi,2,1,"td",48),I(),S(17,54),g(18,Pi,5,1,"th",47)(19,Ni,2,1,"td",48),I(),S(20,55),g(21,Ri,5,1,"th",47)(22,Vi,2,1,"td",48),I(),S(23,56),g(24,Fi,5,1,"th",47)(25,Bi,3,4,"td",48),I(),S(26,57),g(27,Li,2,0,"th",51)(28,Ai,16,3,"td",48),I(),g(29,ji,1,0,"tr",58)(30,qi,1,0,"tr",59),i()()),o&2){let e=f(2);l(),s("dataSource",e.pagedData),l(28),s("matHeaderRowDef",e.displayedColumns),l(),s("matRowDefColumns",e.displayedColumns)}}function Gi(o,n){if(o&1){let e=b();t(0,"div",69)(1,"div",70)(2,"div",71),r(3),i(),t(4,"div",72),r(5),i()(),t(6,"div",73)(7,"div",74)(8,"div",75),r(9,"SKU"),i(),t(10,"div",76),r(11),i()(),t(12,"div",74)(13,"div",75),r(14,"Branch"),i(),t(15,"div",76),r(16),i()(),t(17,"div",74)(18,"div",75),r(19,"On Hand"),i(),t(20,"div",76),r(21),i()(),t(22,"div",74)(23,"div",75),r(24,"Reserved"),i(),t(25,"div",76),r(26),i()(),t(27,"div",74)(28,"div",75),r(29,"Available"),i(),t(30,"div",76),r(31),i()(),t(32,"div",74)(33,"div",75),r(34,"Updated"),i(),t(35,"div",76),r(36),ce(37,"date"),i()()(),t(38,"div",77)(39,"button",36),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.createSaleFromInventory(m))}),t(40,"mat-icon"),r(41,"point_of_sale"),i()(),t(42,"button",37),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.openReceiveDialog(m))}),t(43,"mat-icon"),r(44,"add_circle"),i()(),t(45,"button",38),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.openTransferDialog(m))}),t(46,"mat-icon"),r(47,"swap_horiz"),i()(),t(48,"button",39),d("click",function(){let m=p(e).$implicit,c=f(3);return u(c.openAdjustDialog(m))}),t(49,"mat-icon"),r(50,"tune"),i()(),t(51,"button",40)(52,"mat-icon"),r(53,"history"),i()()()()}if(o&2){let e=n.$implicit,a=f(3);l(3),h(" ",e.productName," "),l(2),h(" ",e.productClassification," "),l(6),x(e.productVariantSKU),l(5),x(e.branchName),l(5),x(e.quantityOnHand),l(5),x(e.quantityReserved),l(5),h(" ",a.available(e)," "),l(5),h(" ",se(37,9,e.lastUpdatedAt,"medium")," "),l(15),s("routerLink",Ie(12,rt,e.productVariantId))}}function zi(o,n){if(o&1&&(t(0,"div",67),g(1,Gi,54,14,"div",68),i()),o&2){let e=f(2);l(),s("ngForOf",e.pagedData)}}function Hi(o,n){if(o&1&&(t(0,"div",41),g(1,Ui,31,3,"div",42)(2,zi,2,1,"div",43),i()),o&2){let e=f();Ce("compact",e.density==="compact"),l(),s("ngIf",!e.isMobile),l(),s("ngIf",e.isMobile)}}function $i(o,n){if(o&1){let e=b();t(0,"div",78)(1,"mat-paginator",79),d("page",function(m){p(e);let c=f();return u(c.changePage(m))}),i()()}if(o&2){let e=f();l(),s("length",e.total)("pageSize",e.size)("pageSizeOptions",dt(3,fi))}}var et=class o{constructor(n,e,a,m,c,v){this.inventoryService=n;this.branchService=e;this.snackbar=a;this.dialog=m;this.breakpoint=c;this.router=v}viewMode="table";density="compact";isMobile=!1;loading=!0;inventory=[];filtered=[];branches=[];selectedBranchId;displayedColumns=["product","variant","variantSku","branch","onHand","reserved","available","updated","actions"];sortField;sortDir="asc";paginator;page=0;size=10;total=0;pagedData=[];searchTerm="";STORAGE_KEY="inventory_list_prefs";ngOnInit(){this.breakpoint.observe(["(max-width: 640px)"]).subscribe(n=>{this.isMobile=n.matches,this.isMobile?(this.viewMode="grid",this.density="comfortable"):(this.viewMode="table",this.density="compact")}),this.loadBranches(),this.loadPreferences(),this.loadInventory()}loadBranches(){this.branchService.getAll(!1).subscribe({next:n=>{this.branches=n.filter(e=>!!e.id).map(e=>({id:e.id,name:e.name,branchCode:e.branchCode??""}))},error:()=>{this.snackbar.open("Failed to load branches","Close",{duration:3e3})}})}loadInventory(){this.loading=!0,(this.selectedBranchId?this.inventoryService.getByBranch(this.selectedBranchId):this.inventoryService.getAll()).subscribe({next:e=>{this.inventory=e,this.filtered=[...this.inventory],this.applySorting(),this.page=0,this.applyPagination(),this.loading=!1},error:()=>{this.loading=!1,this.snackbar.open("Failed to load inventory","Close",{duration:3e3})}})}savePreferences(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify({viewMode:this.viewMode,density:this.density,size:this.size}))}loadPreferences(){let n=localStorage.getItem(this.STORAGE_KEY);if(!n)return;let e=JSON.parse(n);this.viewMode=e.viewMode??this.viewMode,this.density=e.density??this.density,this.size=e.size??this.size}applySearch(){let n=this.searchTerm.trim().toLowerCase();n?this.filtered=this.inventory.filter(e=>e.productName.toLowerCase().includes(n)||e.productVariantSKU.toLowerCase().includes(n)):this.filtered=[...this.inventory],this.applySorting(),this.page=0,this.applyPagination()}applySorting(){if(!this.sortField)return;let n=this.sortField,e=this.sortDir==="asc"?1:-1;this.filtered.sort((a,m)=>{let c,v;switch(n){case"available":c=this.available(a),v=this.available(m);break;case"lastUpdatedAt":c=new Date(a.lastUpdatedAt||0).getTime(),v=new Date(m.lastUpdatedAt||0).getTime();break;default:c=a[n],v=m[n]}return c==null?1:v==null?-1:typeof c=="string"?c.localeCompare(v)*e:(c>v?1:c<v?-1:0)*e})}sortBy(n){this.sortField===n?this.sortDir=this.sortDir==="asc"?"desc":"asc":(this.sortField=n,this.sortDir="asc"),this.applySorting(),this.applyPagination()}applyPagination(){this.total=this.filtered.length;let n=this.page*this.size,e=n+this.size;this.pagedData=this.filtered.slice(n,e)}changePage(n){this.page=n.pageIndex,this.size=n.pageSize,this.applyPagination()}onBranchChange(n){let e=n.value||void 0;this.changeBranch(e)}changeBranch(n){this.selectedBranchId=n,this.loadInventory()}available(n){return(n.quantityOnHand||0)-(n.quantityReserved||0)}setView(n){this.viewMode=n,this.size=this.viewMode==="grid"?this.density==="compact"?25:12:this.density==="compact"?25:10,this.page=0,this.savePreferences(),this.applyPagination()}toggleDensity(){this.density=this.density==="compact"?"comfortable":"compact",this.size=this.viewMode==="grid"?this.density==="compact"?25:12:this.density==="compact"?25:10,this.page=0,this.savePreferences(),this.applyPagination()}createSaleFromInventory(n){this.router.navigate(["/sales/new"],{state:{inventorySeed:{productId:n.productId,productName:n.productName,variantId:n.productVariantId,branchId:n.branchId}}})}openReceiveDialog(n){this.dialog.open(Xe,{width:"720px",maxWidth:"95vw",data:{productId:n.productId,productName:n.productName,productVariantId:n.productVariantId,classification:n.productClassification,branchId:n.branchId,branchName:n.branchName}}).afterClosed().subscribe(a=>{a&&this.loadInventory()})}openAdjustDialog(n){this.dialog.open(Ke,{width:"560px",maxWidth:"95vw",disableClose:!1,data:{productVariantId:n.productVariantId,productName:n.productName,classification:n.productClassification,branchId:n.branchId,branchName:n.branchName}}).afterClosed().subscribe(a=>{a&&this.loadInventory()})}openTransferDialog(n){this.dialog.open(Ze,{width:"720px",maxWidth:"95vw",disableClose:!1,data:{productVariantId:n.productVariantId,productName:n.productName,classification:n.productClassification,fromBranchId:n.branchId,fromBranchName:n.branchName,available:this.available(n),averageCost:n.averageCost}}).afterClosed().subscribe(a=>{a&&this.loadInventory()})}openReceiveNewProduct(){this.dialog.open(Tt,{width:"90vw",maxWidth:"1000px",height:"85vh",panelClass:"responsive-dialog"}).afterClosed().subscribe(e=>{!e||!e.length||this.dialog.open(Je,{width:"600px",data:e}).afterClosed().subscribe(a=>{a&&this.loadInventory()})})}openBulkReceive(){this.dialog.open(Ye,{width:"1100px",maxWidth:"95vw",maxHeight:"90vh",autoFocus:!1}).afterClosed().subscribe(n=>{n===!0&&this.loadInventory()})}static \u0275fac=function(e){return new(e||o)(C(P),C(pe),C($),C(yt),C(gt),C(ft))};static \u0275cmp=M({type:o,selectors:[["app-inventory-list"]],viewQuery:function(e,a){if(e&1&&mt(ze,5),e&2){let m;ct(m=st())&&(a.paginator=m.first)}},decls:39,vars:13,consts:[["page-header",""],[1,"inventory-header"],[1,"header-left"],["mat-icon-button","","matTooltip","Grid View",3,"click"],["mat-icon-button","","matTooltip","Table View",3,"click"],["mat-icon-button","","matTooltip","Toggle Density",3,"click",4,"ngIf"],[1,"header-right"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],["page-toolbar","",1,"inventory-toolbar"],["appearance","fill",1,"branch-field"],[3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"search-field"],["matInput","","placeholder","Search by name or SKU",3,"ngModelChange","input","ngModel"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["page-content",""],["class","text-center py-10",4,"ngIf"],["class","inventory-grid",4,"ngIf"],["class","bg-[var(--surface)] rounded shadow table-wrapper",3,"compact",4,"ngIf"],["class","shared-paginator",4,"ngIf"],["mat-icon-button","","matTooltip","Toggle Density",3,"click"],[3,"value"],["matSuffix","","mat-icon-button","",3,"click"],[1,"text-center","py-10"],[1,"inventory-grid"],["class","inventory-card",3,"compact",4,"ngFor","ngForOf"],[1,"inventory-card"],[1,"card-title"],[1,"card-sub"],[1,"card-sub","text-xs","text-gray-500"],[1,"card-metrics"],[1,"metric-label"],[1,"metric-value"],[1,"card-actions"],["mat-icon-button","","matTooltip","Create Sale",3,"click"],["mat-icon-button","","matTooltip","Receive stock",3,"click"],["mat-icon-button","","matTooltip","Transfer stock",3,"click"],["mat-icon-button","","matTooltip","Adjust stock",3,"click"],["mat-icon-button","","matTooltip","View transactions",3,"routerLink"],[1,"bg-[var(--surface)]","rounded","shadow","table-wrapper"],["class","overflow-x-auto",4,"ngIf"],["class","stacked-wrapper",4,"ngIf"],[1,"overflow-x-auto"],["mat-table","",3,"dataSource"],["matColumnDef","product"],["mat-header-cell","","class","sortable",3,"click",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","variant"],["matColumnDef","variantSku"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","branch"],["matColumnDef","onHand"],["matColumnDef","reserved"],["matColumnDef","available"],["matColumnDef","updated"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"sortable",3,"click"],[1,"sortable-content"],[1,"sort-icon"],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],[1,"stacked-wrapper"],["class","stacked-row",4,"ngFor","ngForOf"],[1,"stacked-row"],[1,"stacked-header"],[1,"stacked-title"],[1,"stacked-sub"],[1,"stacked-grid"],[1,"stacked-item"],[1,"label"],[1,"value"],[1,"stacked-actions"],[1,"shared-paginator"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions"]],template:function(e,a){e&1&&(t(0,"app-page-shell")(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),d("click",function(){return a.setView("grid")}),t(5,"mat-icon"),r(6,"grid_view"),i()(),t(7,"button",4),d("click",function(){return a.setView("table")}),t(8,"mat-icon"),r(9,"table_rows"),i()(),g(10,_i,3,0,"button",5),i(),t(11,"div",6)(12,"button",7),d("click",function(){return a.openReceiveNewProduct()}),t(13,"mat-icon"),r(14,"add_box"),i(),r(15," Receive New Product "),i(),t(16,"button",8),d("click",function(){return a.openBulkReceive()}),t(17,"mat-icon"),r(18,"cloud_upload"),i(),r(19," Bulk Receive "),i()()()(),t(20,"div",9)(21,"mat-form-field",10)(22,"mat-label"),r(23,"Branch"),i(),t(24,"mat-select",11),d("selectionChange",function(c){return a.onBranchChange(c)}),t(25,"mat-option",12),r(26,"All Branches"),i(),g(27,vi,2,2,"mat-option",13),i()(),t(28,"mat-form-field",14)(29,"mat-label"),r(30,"Search Product or SKU"),i(),t(31,"input",15),le("ngModelChange",function(c){return ae(a.searchTerm,c)||(a.searchTerm=c),c}),d("input",function(){return a.applySearch()}),i(),g(32,gi,3,0,"button",16),i()(),t(33,"div",17),g(34,hi,2,0,"div",18)(35,Ci,2,0,"div",18)(36,xi,2,1,"div",19)(37,Hi,3,4,"div",20)(38,$i,2,4,"div",21),i()()),e&2&&(l(4),Ce("active",a.viewMode==="grid"),l(3),Ce("active",a.viewMode==="table"),l(3),s("ngIf",!a.isMobile),l(17),s("ngForOf",a.branches),l(4),re("ngModel",a.searchTerm),l(),s("ngIf",a.searchTerm),l(2),s("ngIf",a.loading),l(),s("ngIf",!a.loading&&a.filtered.length===0),l(),s("ngIf",!a.loading&&a.viewMode==="grid"),l(),s("ngIf",!a.loading&&a.viewMode==="table"),l(),s("ngIf",!a.loading))},dependencies:[w,N,Y,Me,Ge,Ne,Ve,Ae,Fe,Re,je,Be,Le,qe,Ue,V,R,de,z,X,Oe,De,vt,_t,Mt,ze,K,E,F,Pe,W,L,B,Pt,Ee,k,T,we,O,D],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.inventory-header[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;gap:1rem}[_nghost-%COMP%]     [page-header]{width:100%;display:block}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:auto}.header-left[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#3b82f626;border-radius:6px}.inventory-toolbar[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.branch-field[_ngcontent-%COMP%]{min-width:220px}.search-field[_ngcontent-%COMP%]{flex:1;min-width:260px}.inventory-grid[_ngcontent-%COMP%]{display:grid;gap:1.25rem;margin-top:1rem;grid-template-columns:1fr}@media (min-width: 640px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1536px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.inventory-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;transition:transform .15s ease,box-shadow .15s ease}.inventory-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--surface-shadow)}.inventory-card.compact[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}.inventory-card.compact[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:.9rem}.card-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}.inventory-card.compact[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.9rem}.card-sub[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.card-metrics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.75rem}.metric-label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary)}.metric-value[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;border-top:1px solid var(--border);padding-top:.5rem}.table-wrapper[_ngcontent-%COMP%]{margin-top:1rem;overflow:hidden}.table-wrapper.compact[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{height:30px}.table-wrapper.compact[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%], .table-wrapper.compact[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-top:2px!important;padding-bottom:2px!important;font-size:.82rem}.table-wrapper[_ngcontent-%COMP%]:not(.compact)   .mat-mdc-row[_ngcontent-%COMP%]{height:46px}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.sortable-content[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px}.sort-icon[_ngcontent-%COMP%]{font-size:16px;opacity:.6}.shared-paginator[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:center}.stacked-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.stacked-row[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:10px;padding:1rem;background:var(--surface);display:flex;flex-direction:column;gap:.75rem;transition:transform .15s ease,box-shadow .15s ease}.stacked-row[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--surface-shadow)}.stacked-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stacked-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}.stacked-sub[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.stacked-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem 1rem}.stacked-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary)}.stacked-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500;font-size:.85rem}.stacked-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;border-top:1px solid var(--border);padding-top:.5rem}']})};var Go=[{path:"",component:et},{path:":variantId",component:$e}];export{Go as INVENTORY_ROUTES};
