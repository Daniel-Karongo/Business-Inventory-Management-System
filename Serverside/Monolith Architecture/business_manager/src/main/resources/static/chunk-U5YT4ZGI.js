import{a as p}from"./chunk-5DTMLZHP.js";import{Z as l,ca as u,id as i,jd as o}from"./chunk-3DYKM6ZU.js";var h=class a{constructor(e){this.http=e}base=p.apiUrl+p.endpoints.suppliers.base;getAll(e){if(e!==void 0){let t=new i;return t=t.set("deleted",String(e)),this.http.get(`${this.base}/all`,{params:t})}else return this.http.get(`${this.base}/all`)}getById(e,t){let r=new i;return t!==void 0?(r=r.set("deleted",String(t)),this.http.get(`${this.base}/identifier/${e}`,{params:r})):this.http.get(`${this.base}/identifier/${e}`)}create(e){return this.http.post(`${this.base}/register`,e)}bulkImport(e){return this.http.post(`${this.base}/import`,e)}update(e,t){return this.http.patch(`${this.base}/${e}`,t)}softDelete(e,t){return this.http.delete(`${this.base}/${e}`,{params:{soft:!0},body:t??""})}restore(e,t){return this.http.patch(`${this.base}/${e}/restore`,t??"")}hardDelete(e,t){return this.http.delete(`${this.base}/${e}`,{params:{soft:"false"},body:t??""})}softDeleteBulk(e,t){return this.http.post(`${this.base}/bulk/soft-delete`,{ids:e,reason:t??""})}restoreBulk(e,t){return this.http.post(`${this.base}/bulk/restore`,{ids:e,reason:t??""})}hardDeleteBulk(e,t){return this.http.post(`${this.base}/bulk/hard-delete`,{ids:e,reason:t??""})}listImages(e,t){let r=new i;return t!==void 0?(r=r.set("deleted",String(t)),this.http.get(`${this.base}/${e}/images`,{params:r})):this.http.get(`${this.base}/${e}/images`)}getSupplierImageBlob(e,t,r){let s=new i;return r!==void 0?(s=s.set("deleted",String(r)),this.http.get(`${this.base}/${e}/images/${encodeURIComponent(t)}`,{params:s,responseType:"blob"})):this.http.get(`${this.base}/${e}/images/${encodeURIComponent(t)}`,{responseType:"blob"})}uploadImages(e,t){let r=new FormData;return t.forEach((s,n)=>{r.append(`supplierFiles[${n}].file`,s.file),r.append(`supplierFiles[${n}].description`,s.description??"")}),this.http.patch(`${this.base}/${e}/images`,r)}softDeleteImage(e,t){return this.http.delete(`${this.base}/${e}/images/${t}`,{responseType:"text"})}restoreImage(e,t){return this.http.patch(`${this.base}/${e}/images/${t}/restore`,{},{responseType:"text"})}hardDeleteImage(e,t){return this.http.delete(`${this.base}/${e}/images/${t}/hard`,{responseType:"text"})}supplierAudits(e){return this.http.get(`${this.base}/${e}/audit`)}imageAudits(e){return this.http.get(`${this.base}/${e}/images/audit`)}productsSupplied(e,t=!1){return this.http.get(`${p.apiUrl}/products/supplier/${e}`,{params:new i().set("deleted",String(t))})}static \u0275fac=function(t){return new(t||a)(u(o))};static \u0275prov=l({token:a,factory:a.\u0275fac,providedIn:"root"})};export{h as a};
