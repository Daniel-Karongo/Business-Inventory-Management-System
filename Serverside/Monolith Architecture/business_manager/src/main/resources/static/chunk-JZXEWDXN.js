import{a as p}from"./chunk-5DTMLZHP.js";import{_ as l,da as u,gd as s,hd as o}from"./chunk-KLCDKTJS.js";var h=class a{constructor(e){this.http=e}base=p.apiUrl+p.endpoints.suppliers.base;getAll(e){if(e!==void 0){let t=new s;return t=t.set("deleted",String(e)),this.http.get(`${this.base}/all`,{params:t})}else return this.http.get(`${this.base}/all`)}getById(e,t){let r=new s;return t!==void 0?(r=r.set("deleted",String(t)),this.http.get(`${this.base}/identifier/${e}`,{params:r})):this.http.get(`${this.base}/identifier/${e}`)}create(e){return this.http.post(`${this.base}/register`,e)}bulkImport(e){return this.http.post(`${this.base}/import`,e)}update(e,t){return this.http.patch(`${this.base}/${e}`,t)}softDelete(e,t){return this.http.delete(`${this.base}/${e}/soft`,{body:t})}restore(e,t){return this.http.patch(`${this.base}/restore/${e}`,t)}hardDelete(e){return this.http.delete(`${this.base}/${e}/hard`)}listImages(e,t){let r=new s;return t!==void 0?(r=r.set("deleted",String(t)),this.http.get(`${this.base}/${e}/images`,{params:r})):this.http.get(`${this.base}/${e}/images`)}getSupplierImageBlob(e,t,r){let i=new s;return r!==void 0?(i=i.set("deleted",String(r)),this.http.get(`${this.base}/${e}/images/${encodeURIComponent(t)}`,{params:i,responseType:"blob"})):this.http.get(`${this.base}/${e}/images/${encodeURIComponent(t)}`,{responseType:"blob"})}uploadImages(e,t){let r=new FormData;return t.forEach((i,n)=>{r.append(`supplierFiles[${n}].file`,i.file),r.append(`supplierFiles[${n}].description`,i.description??"")}),this.http.patch(`${this.base}/${e}/images`,r)}softDeleteImage(e,t){return this.http.delete(`${this.base}/${e}/images/${t}`,{responseType:"text"})}restoreImage(e,t){return this.http.patch(`${this.base}/${e}/images/${t}/restore`,{},{responseType:"text"})}hardDeleteImage(e,t){return this.http.delete(`${this.base}/${e}/images/${t}/hard`,{responseType:"text"})}supplierAudits(e){return this.http.get(`${this.base}/${e}/audit`)}imageAudits(e){return this.http.get(`${this.base}/${e}/images/audit`)}productsSupplied(e,t=!1){return this.http.get(`${p.apiUrl}/products/supplier/${e}`,{params:new s().set("deleted",String(t))})}static \u0275fac=function(t){return new(t||a)(u(o))};static \u0275prov=l({token:a,factory:a.\u0275fac,providedIn:"root"})};export{h as a};
