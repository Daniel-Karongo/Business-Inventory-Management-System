import{a as F,b as V,h as L}from"./chunk-G6DPSII6.js";import{a as H,b as G}from"./chunk-H37LQHOQ.js";import{d as E}from"./chunk-DF6WYVPK.js";import{a as B,c as j,d as z}from"./chunk-ZFWGKVXC.js";import{a as W}from"./chunk-CONPK5ZF.js";import{b as N,h as P}from"./chunk-3ZV2DC5Q.js";import{d as y,h as I,l as S,w as O}from"./chunk-Z2GGFO6C.js";import{g as k,h as A}from"./chunk-TENNXE3V.js";import{Ib as i,Jb as a,Ob as x,Qb as C,Rb as p,Tc as T,Uc as b,ac as l,bb as o,bc as w,bd as v,cc as d,gb as u,gc as M,hc as R,ic as D,ma as f,na as g,nb as h,sb as _,zb as s}from"./chunk-3DYKM6ZU.js";function J(t,n){if(t&1&&(i(0,"mat-option",11),l(1),a()),t&2){let e=n.$implicit;s("value",e),o(),d(" ",e," ")}}function K(t,n){t&1&&(i(0,"mat-option",12),l(1," Other... "),a())}function Q(t,n){if(t&1){let e=x();i(0,"mat-form-field",7)(1,"mat-label"),l(2,"Select a reason (optional)"),a(),i(3,"mat-select",8),D("ngModelChange",function(m){f(e);let c=p();return R(c.selectedReason,m)||(c.selectedReason=m),g(m)}),_(4,J,2,2,"mat-option",9)(5,K,2,0,"mat-option",10),a()()}if(t&2){let e=p();o(3),M("ngModel",e.selectedReason),o(),s("ngForOf",e.reasonOptions),o(),s("ngIf",e.allowCustom)}}function U(t,n){if(t&1){let e=x();i(0,"mat-form-field",7)(1,"mat-label"),l(2,"Custom reason"),a(),i(3,"textarea",13),D("ngModelChange",function(m){f(e);let c=p();return R(c.customReason,m)||(c.customReason=m),g(m)}),l(4,"    "),a()()}if(t&2){let e=p();o(3),M("ngModel",e.customReason)}}var q=class t{constructor(n,e){this.ref=n;this.data=e}selectedReason=null;customReason="";get reasonOptions(){return this.data.reasons??[]}get allowCustom(){return this.data.allowCustomReason!==!1}confirm(){let n=null;this.selectedReason==="OTHER"?n=this.customReason.trim()||null:n=this.selectedReason??null,this.ref.close({confirmed:!0,reason:n})}cancel(){this.ref.close({confirmed:!1})}static \u0275fac=function(e){return new(e||t)(u(F),u(V))};static \u0275cmp=h({type:t,selectors:[["app-reason-dialog"]],decls:12,vars:6,consts:[[1,"p-4","bg-[var(--surface)]"],[1,"text-lg","font-semibold","mb-2"],[1,"text-sm","text-gray-600","dark:text-gray-300","mb-3"],["appearance","fill","class","w-full",4,"ngIf"],[1,"flex","justify-end","gap-2","mt-4"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","warn",3,"click"],["appearance","fill",1,"w-full"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["value","OTHER",4,"ngIf"],[3,"value"],["value","OTHER"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","6","placeholder","Enter custom reason",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"h2",1),l(2),a(),i(3,"p",2),l(4),a(),_(5,Q,6,3,"mat-form-field",3)(6,U,5,1,"mat-form-field",3),i(7,"div",4)(8,"button",5),C("click",function(){return r.cancel()}),l(9),a(),i(10,"button",6),C("click",function(){return r.confirm()}),l(11),a()()()),e&2&&(o(2),w(r.data.title),o(2),d(" ",r.data.message," "),o(),s("ngIf",r.reasonOptions.length),o(),s("ngIf",r.selectedReason==="OTHER"),o(3),d(" ",r.data.cancelText||"Cancel"," "),o(2),d(" ",r.data.confirmText||"Confirm"," "))},dependencies:[v,T,b,O,y,I,S,L,A,k,W,P,N,z,j,B,G,H,E],styles:["mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px!important}mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-bottom:0!important;padding:6px!important;line-height:1.3}  .mat-mdc-form-field-subscript-wrapper{height:0!important;margin:0!important;padding:0!important}"]})};export{q as a};
