<div class="space-y-6">

  <!-- =========================
       LOADING STATE
  ========================= -->
  <ng-container *ngIf="loading; else dashboardContent">

    <!-- KPI skeletons -->
    <div class="kpi-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
      <div *ngFor="let _ of [1,2,3,4]" class="dashboard-panel h-24 animate-pulse"></div>
    </div>

    <!-- Chart skeletons -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
      <div class="lg:col-span-2 dashboard-panel h-96 animate-pulse"></div>
      <div class="dashboard-panel h-96 animate-pulse"></div>
    </div>

    <!-- Activity skeleton -->
    <div class="dashboard-panel h-64 animate-pulse"></div>
  </ng-container>

  <!-- =========================
       DASHBOARD CONTENT
  ========================= -->
  <ng-template #dashboardContent>

    <!-- KPI ROW -->
    <div class="kpi-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
      <app-stat-card
        *ngFor="let s of stats"
        [title]="s.title"
        [value]="s.value"
        [change]="s.change">
      </app-stat-card>
    </div>

    <!-- CHARTS -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">

      <div class="lg:col-span-2 dashboard-panel h-96">
        <div class="panel-title">Revenue Trend</div>
        <app-revenue-line-chart
          [labels]="revenueLabels"
          [values]="revenueValues">
        </app-revenue-line-chart>
      </div>

      <div class="dashboard-panel h-96">
        <div class="panel-title">Sales by Category</div>
        <app-sales-category-chart
          [labels]="categoryLabels"
          [values]="categoryValues">
        </app-sales-category-chart>
      </div>

    </div>

    <!-- ACTIVITY -->
    <div class="dashboard-panel">
      <div class="panel-title">Recent Activity</div>
      <app-activity-list [activities]="activities"></app-activity-list>
    </div>

  </ng-template>
</div>