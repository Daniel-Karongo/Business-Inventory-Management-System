/* page-wide */

.page-container {
  overflow-x: hidden;
  padding-top: 0;
}

mat-header-cell {
  font-weight: 600;
  color: var(--text-secondary) !important;
  background: var(--surface) !important;
  padding: 12px 16px;
}

mat-cell {
  font-weight: 400;
  font-size: 0.9rem;
  padding: 12px 16px;
}

mat-cell div {
  white-space: nowrap;
}

.branch-grid, .dept-grid {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* ensure mat form fields behave responsively */
mat-form-field {
  width: 100%;
}

/* reduce spacing on header rows and cells for compact table */
mat-table {
  width: 100%;
  border-radius: 6px;
  overflow-x: auto !important;
}

/* Apply natural width to headers + rows together */
.mat-column-username,
.mat-header-cell.mat-column-username,

.mat-column-emails,
.mat-header-cell.mat-column-emails,

.mat-column-phones,
.mat-header-cell.mat-column-phones,

.mat-column-branches_depts,
.mat-header-cell.mat-column-branches_depts,

.mat-column-role,
.mat-header-cell.mat-column-role,

.mat-column-status,
.mat-header-cell.mat-column-status,

.mat-column-createdAt,
.mat-header-cell.mat-column-createdAt,

.mat-column-actions,
.mat-header-cell.mat-column-actions,

.mat-column-select,
.mat-header-cell.mat-column-select {
  flex: 0 0 auto !important;   /* forces natural width */
  width: auto !important;
  max-width: none !important;
}

.mat-column-username { min-width: 160px; }
.mat-column-emails { min-width: 250px; }
.mat-column-phones { min-width: 140px; }
.mat-column-branches_depts { min-width: 450px; }
.bd-row-name { min-width: 100px !important;}
.bd-row-department { min-width: 155px !important;}
.bd-row-position { min-width: 100px !important;}
.mat-column-role { min-width: 120px; }
.mat-column-status { min-width: 110px; }
.mat-column-createdAt { min-width: 230px; }
.mat-column-actions { min-width: 150px; text-align: center; }

/* header cells */

/* normal cells */
.mat-cell {
  padding: 12px 16px;
  vertical-align: middle;
  word-break: break-word;
}

/* selection column (checkbox) */
.mat-column-select {
  width: 48px;
  text-align: center;
}

/* actions column narrower */
.mat-column-actions {
  width: 120px;
  text-align: center;
}

/* createdAt column */
.mat-column-createdAt {
  width: 160px;
  text-align: left;
}

/* compact list items inside email / phone columns */
.email-grid, .phone-grid {
  display: flex;
  flex-direction: column;
  gap: 7px;
  min-width: fit-content;
}

/* Branch / Department grid inside a cell - multi-row table */
.branch-dept-table {
  display: grid;
  grid-template-columns: 0.6fr 1fr 120px; /* Branch | Department | Position */
  gap: 10px 15px;
  align-items: start;
  padding-top: 10px;
  padding-bottom: 10px;
  font-size: 0.9rem;
}

.branch-dept-table .bd-heading {
  font-weight: 600;
  color: var(--text-secondary);
}

.branch-dept-table .bd-row {
  color: var(--text-primary);
}

/* paginator spacing */
mat-paginator {
  margin-top: 12px;
}

.table-wrapper {
  display: block;
  border-radius: 6px;
}

/* responsive tweaks */
@media (max-width: 900px) {
  .search-input { width: 100%; }
  .branch-dept-table { grid-template-columns: 1fr 1fr; }
}